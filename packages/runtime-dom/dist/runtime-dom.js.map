{
  "version": 3,
  "sources": ["../src/nodeOps.ts", "../../shared/src/index.ts", "../src/modules/class.ts", "../src/modules/style.ts", "../src/modules/events.ts", "../src/modules/attrs.ts", "../src/patchProp.ts", "../src/index.ts"],
  "sourcesContent": ["/**\n * dom api\n */\nexport const nodeOps = {\n  insert: (child, parent, anchor) => {\n    parent.insertBefore(child, anchor || null); // anchor \u4E3Anull\u65F6\uFF0CinsertBefore === appendChild\n  },\n  remove: (child) => {\n    const parent = child.parentNode;\n    if (parent) {\n      parent.removeChild(child);\n    }\n  },\n  createElement: type => {\n    return document.createElement(type);\n  },\n  createText: text => {\n    return document.createTextNode(text);\n  },\n  setText: (node, text) => {\n    node.nodeValue = text; // \u7ED9\u6587\u672C\u8282\u70B9\u8BBE\u7F6E\u6587\u672C\n  },\n  setElementText: (el, text) => {\n    el.textContent = text; // \u7ED9dom\u5143\u7D20\u8BBE\u7F6E\u6587\u672C\n  },\n  parentNode: node => {\n    return node.parentNode;\n  },\n  nextSibling: node => {\n    return node.nextSibling;\n  },\n};", "export const NOOP = () => {\n};\n\nexport function isObject(value) {\n  return value !== null && typeof value === 'object';\n}\n\nexport function isFunction(value) {\n  return typeof value === 'function';\n}\n\nexport const isArray = Array.isArray;\n\nexport function hasChanged(value, oldValue) {\n  return !Object.is(value, oldValue);\n}\n\nexport const objectToString = Object.prototype.toString;\n\nexport const toTypeString = value => objectToString.call(value);\n\nexport const isPlainObject = value => toTypeString(value) === '[object Object]';\n\nexport const isMap = value => toTypeString(value) === '[object Map]';\n\nexport const isSet = value => toTypeString(value) === '[object Set]';\n\nexport const isOn = key => {\n  return key.charCodeAt(0) === 111 /* o */\n  && key.charCodeAt(1) === 110 /* n */\n  && (key.charCodeAt(2) > 122 || key.charCodeAt(2) < 97); // uppercase letter\n};\n\n", "/**\n * \u66F4\u65B0class\n * @param el \u76EE\u6807\u5143\u7D20\u8282\u70B9\n * @param value \u8981\u66F4\u65B0\u7684\u503C\n */\nexport default function patchClass(el, value) {\n  if (value === null) {\n    el.className = null;\n    el.removeAttribute('class');\n  } else {\n    el.className = value;\n  }\n}", "/**\n * \u66F4\u65B0style\n * @param el \u76EE\u6807\u5143\u7D20\u8282\u70B9\n * @param prevValue \u66F4\u65B0\u524D\u7684\u503C\n * @param nextValue \u66F4\u65B0\u540E\u7684\u503C\n */\nexport default function patchStyle(el, prevValue, nextValue) {\n  const style = el.style;\n\n  // \u65B0\u7684\u6837\u5F0F\u5168\u90E8\u751F\u6548\n  for (let key in nextValue) {\n    style[key] = nextValue[key];\n  }\n\n  // diff\u4E4B\u524D\u7684\u6837\u5F0F\n  for (const key in prevValue) {\n    if (nextValue[key] === null) {\n      style[key] = null;\n    }\n  }\n}", "function createInvoker(value) {\n  const invoker = e => invoker.value(e);\n  invoker.value = value; // invoker\u4E0A\u6269\u5C55value\u5C5E\u6027\uFF0C\u4FDD\u5B58\u8981\u6267\u884C\u7684\u76EE\u6807\u65B9\u6CD5\u3002\u66F4\u65B0\u65F6\u53EA\u9700\u66F4\u65B0\u5BF9\u5E94\u7684\u8C03\u7528\u51FD\u6570\n  return invoker;\n}\n\n/**\n * dom\u4E8B\u4EF6\u5904\u7406\n * @param el\n * @param name\n * @param nextValue\n */\nexport default function patchEvent(el, name, nextValue) {\n  const invokers = el._evi || (el._evi = {}); // \u7528\u4E8E\u7F13\u5B58\u7ED1\u5B9A\u7684\u4E8B\u4EF6 vue event invoker\n  const existingInvoker = invokers[name]; // \u83B7\u53D6\u7F13\u5B58\u7684\u4E8B\u4EF6\u5B9A\u4E49\n\n  const eventName = name.slice(2).toLowerCase(); // \u4E8B\u4EF6\u540D\n\n  // \u7ED1\u5B9A\u65B0\u7684\u4E8B\u4EF6\n  if (nextValue && !existingInvoker) {\n    const invoker = (invokers[name] = createInvoker(nextValue));\n    el.addEventListener(eventName, invoker);\n    return;\n  }\n\n  // \u66F4\u65B0\u4E8B\u4EF6\n  if (nextValue && existingInvoker) {\n    existingInvoker.value = nextValue;\n    return;\n  }\n\n  // \u79FB\u9664\u4E8B\u4EF6\n  if (existingInvoker) {\n    el.removeEventListener(eventName, existingInvoker);\n    invokers[name] = undefined;\n  }\n\n}\n", "/**\n * \u66F4\u65B0\u5143\u7D20\u8282\u70B9\u6307\u5B9A\u5C5E\u6027\u503C\n * @param el \u5143\u7D20\u8282\u70B9\n * @param key \u5C5E\u6027key\n * @param value \u5C5E\u6027\u503C\n */\nexport default function patchAttr(el, key, value) {\n  if (value === null) {\n    el.removeAttribute(key);\n  } else {\n    el.setAttribute(key, value);\n  }\n}", "import { isOn } from '@vue/shared';\nimport patchClass from './modules/class';\nimport patchStyle from './modules/style';\nimport patchEvent from './modules/events';\nimport patchAttr from './modules/attrs';\n\n/**\n * \u9488\u5BF9\u5143\u7D20\u8282\u70B9\u7684\u5C5E\u6027\u64CD\u4F5C\uFF08style\u3001class\u3001\u4E8B\u4EF6\u3001\u5176\u4ED6\u5C5E\u6027\u7B49\uFF09\n * @param el \u76EE\u6807\u5143\u7D20\u8282\u70B9\n * @param key \u5C5E\u6027key\n * @param prevValue \u66F4\u65B0\u524D\u7684\u503C\n * @param nextValue \u66F4\u65B0\u540E\u7684\u503C\n */\nexport default function patchProp(el, key, prevValue, nextValue) {\n  if (key === 'class') {\n    patchClass(el, nextValue);\n  } else if (key === 'style') {\n    patchStyle(el, prevValue, nextValue);\n  } else if (isOn(key)) {\n    patchEvent(el, key, nextValue);\n  } else {\n    patchAttr(el, key, nextValue);\n  }\n}", "import { nodeOps } from './nodeOps';\nimport patchProp from './patchProp';\n\nconst renderOptions = Object.assign({ patchProp }, nodeOps);\n\nexport {\n  renderOptions\n};"],
  "mappings": ";AAGO,IAAM,UAAU;AAAA,EACrB,QAAQ,CAAC,OAAO,QAAQ,WAAW;AACjC,WAAO,aAAa,OAAO,UAAU,IAAI;AAAA,EAC3C;AAAA,EACA,QAAQ,CAAC,UAAU;AACjB,UAAM,SAAS,MAAM;AACrB,QAAI,QAAQ;AACV,aAAO,YAAY,KAAK;AAAA,IAC1B;AAAA,EACF;AAAA,EACA,eAAe,UAAQ;AACrB,WAAO,SAAS,cAAc,IAAI;AAAA,EACpC;AAAA,EACA,YAAY,UAAQ;AAClB,WAAO,SAAS,eAAe,IAAI;AAAA,EACrC;AAAA,EACA,SAAS,CAAC,MAAM,SAAS;AACvB,SAAK,YAAY;AAAA,EACnB;AAAA,EACA,gBAAgB,CAAC,IAAI,SAAS;AAC5B,OAAG,cAAc;AAAA,EACnB;AAAA,EACA,YAAY,UAAQ;AAClB,WAAO,KAAK;AAAA,EACd;AAAA,EACA,aAAa,UAAQ;AACnB,WAAO,KAAK;AAAA,EACd;AACF;;;ACpBO,IAAM,UAAU,MAAM;AAgBtB,IAAM,OAAO,SAAO;AACzB,SAAO,IAAI,WAAW,CAAC,MAAM,OAC1B,IAAI,WAAW,CAAC,MAAM,QACrB,IAAI,WAAW,CAAC,IAAI,OAAO,IAAI,WAAW,CAAC,IAAI;AACrD;;;AC1Be,SAAR,WAA4B,IAAI,OAAO;AAC5C,MAAI,UAAU,MAAM;AAClB,OAAG,YAAY;AACf,OAAG,gBAAgB,OAAO;AAAA,EAC5B,OAAO;AACL,OAAG,YAAY;AAAA,EACjB;AACF;;;ACNe,SAAR,WAA4B,IAAI,WAAW,WAAW;AAC3D,QAAM,QAAQ,GAAG;AAGjB,WAAS,OAAO,WAAW;AACzB,UAAM,GAAG,IAAI,UAAU,GAAG;AAAA,EAC5B;AAGA,aAAW,OAAO,WAAW;AAC3B,QAAI,UAAU,GAAG,MAAM,MAAM;AAC3B,YAAM,GAAG,IAAI;AAAA,IACf;AAAA,EACF;AACF;;;ACpBA,SAAS,cAAc,OAAO;AAC5B,QAAM,UAAU,OAAK,QAAQ,MAAM,CAAC;AACpC,UAAQ,QAAQ;AAChB,SAAO;AACT;AAQe,SAAR,WAA4B,IAAI,MAAM,WAAW;AACtD,QAAM,WAAW,GAAG,SAAS,GAAG,OAAO,CAAC;AACxC,QAAM,kBAAkB,SAAS,IAAI;AAErC,QAAM,YAAY,KAAK,MAAM,CAAC,EAAE,YAAY;AAG5C,MAAI,aAAa,CAAC,iBAAiB;AACjC,UAAM,UAAW,SAAS,IAAI,IAAI,cAAc,SAAS;AACzD,OAAG,iBAAiB,WAAW,OAAO;AACtC;AAAA,EACF;AAGA,MAAI,aAAa,iBAAiB;AAChC,oBAAgB,QAAQ;AACxB;AAAA,EACF;AAGA,MAAI,iBAAiB;AACnB,OAAG,oBAAoB,WAAW,eAAe;AACjD,aAAS,IAAI,IAAI;AAAA,EACnB;AAEF;;;AC/Be,SAAR,UAA2B,IAAI,KAAK,OAAO;AAChD,MAAI,UAAU,MAAM;AAClB,OAAG,gBAAgB,GAAG;AAAA,EACxB,OAAO;AACL,OAAG,aAAa,KAAK,KAAK;AAAA,EAC5B;AACF;;;ACCe,SAAR,UAA2B,IAAI,KAAK,WAAW,WAAW;AAC/D,MAAI,QAAQ,SAAS;AACnB,eAAW,IAAI,SAAS;AAAA,EAC1B,WAAW,QAAQ,SAAS;AAC1B,eAAW,IAAI,WAAW,SAAS;AAAA,EACrC,WAAW,KAAK,GAAG,GAAG;AACpB,eAAW,IAAI,KAAK,SAAS;AAAA,EAC/B,OAAO;AACL,cAAU,IAAI,KAAK,SAAS;AAAA,EAC9B;AACF;;;ACpBA,IAAM,gBAAgB,OAAO,OAAO,EAAE,UAAU,GAAG,OAAO;",
  "names": []
}
